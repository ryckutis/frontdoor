<div class="rate-chart-container">
  <div class="header">
    <h2>Exchange Rate Chart</h2>
    <div class="controls">
      <label for="chart-period-select">Period:</label>
      <select
        id="chart-period-select"
        [(ngModel)]="selectedPeriod"
        (change)="onPeriodChange()"
        [disabled]="loading"
      >
        <option *ngFor="let period of availablePeriods" [value]="period.value">
          {{ period.label }}
        </option>
      </select>
    </div>
  </div>

  <div *ngIf="selectedBaseCurrency && selectedCurrency" class="currency-info">
    <h3>
      {{ selectedBaseCurrency }}/{{ selectedCurrency }} -
      {{ selectedPeriod }} days
    </h3>
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <div *ngIf="loading" class="loading">
    <div class="loading-spinner">Loading chart data...</div>
  </div>

  <div *ngIf="!selectedBaseCurrency || !selectedCurrency" class="no-data">
    <p>Please select both base and target currencies to view the chart.</p>
  </div>

  <div
    *ngIf="!loading && !error && selectedBaseCurrency && selectedCurrency"
    class="chart-wrapper"
  >
    <canvas
      baseChart
      [data]="rateChartData"
      [options]="rateChartOptions"
      [legend]="rateChartLegend"
      type="line"
    >
    </canvas>
  </div>
</div>
